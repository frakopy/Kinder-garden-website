<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Contactanos</title>
   <link rel="icon" type="image/png" href="/imgs/icon/a-b-c.png"/>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
   <link rel="stylesheet" href="sytles_menu.css">
</head>
   <body>
      <!-- Header  -->
      <header id="header">
         <div id="burger-menu" class="burger-menu">
            <i id="icon-bars" class="fa-solid fa-bars"></i>
         </div>
         <div class="icons">
            <i class="social-net instagram fa-brands fa-instagram"></i>
            <i class="social-net facebook fa-brands fa-facebook"></i>
            <i class="social-net whatsapp fa-brands fa-whatsapp"></i>
         </div>
         <div class="text-header">
            <a href="https://www.zonapagos.com/basica/" target="_blank">PAGOS EN LINEA</a>
            <a href="/plataforma_virtual.html">PLATAFORMA VIRTUAL</a>
         </div>
      </header>

      <!--Burger Menu  -->
      <div class="burger-container">
         <div class="burger-menu-container">
            <div class="icon-x">
               <i id="icon-x" class="fa-solid fa-xmark"></i>
            </div>
            <div id="img-brg-menu" class="img-brg-menu"></div>
            <div class="menu">
               <ul>
                  <li>
                     <a id="home" href="/">Inicio</a>
                  </li>
                  <li>
                     <a href="/nosotros.html">Nosotros</a>
                  </li>
                  <li>
                     <a href="/programa.html">Programa</a>
                  </li>
                  <li>
                     <a href="/contactanos.html">Contáctanos</a>
                  </li>
               </ul>
            </div>
         </div>
      </div>

      <!-- Whatsapp Btn -->
      <div class="wsp">
         <a id="whatsapp-link" href="" target="_blank">
            <i class="fa-brands fa-whatsapp"></i>
         </a>
      </div>

      <!-- Content -->
      <div class="main-container">
         <!---------- Big menu only for big screens ------->
         <div class="big-menu">
            <ul>
               <li class="bg-li">
                  <a class="bg-menu" href="/">Inicio</a>
               </li>
               <li class="bg-li">
                  <a class="bg-menu" href="/nosotros.html">Nosotros</a>
               </li>
               <li class="bg-li">
                  <a class="bg-menu" href="/programa.html">Programa</a>
               </li>
               <li class="bg-li">
                  <a class="bg-menu" href="/contactanos.html">Contáctanos</a>
               </li>
            </ul>
         </div>
         <!-- ------------------------------------------- -->
         <div class="second-container">
            
            <!-- Contact us Content -->
            <div class="contact-container">
               <div id="contact" class="contact">
                  <div class="img-containter">
                     <div class="logo-image"></div>
                     <p>
                        En EnCanto Jardín Musical nos encantaría conocerte!
                        Para más información deja tus datos y te contáctaremos
                     </p>
                  </div>
                  <div id="modal-container" class="hide-modal modal-container">
                     <div class="modal">
                        El formulario se ha enviado exitosamente!
                        <i id="close-modal" class="fa-solid fa-circle-xmark"></i>
                     </div>
                  </div>
                  <form id="form-contact" method="post">
                     <input type="hidden" name="_captcha" value="false">
                     <input class="data-input" type="text" name="Nombre del acudiente" placeholder="Nombre del acudiente">
                     <input class="data-input" type="text" name="Apellido del acudiente" placeholder="Apellido del acudiente">
                     <input class="data-input" type="email" name="Email" placeholder="E-mail">
                     <input class="data-input" type="text" name="Teléfono" placeholder="Teléfono">
                     <input class="data-input" type="text" name="Nombre del estudiante" placeholder="Nombre del estudiante">
                     <div class="how-to-contact">
                        <label class="label-contact" name="label-contact">¿Como desea ser contactado?</label>
                        <div class="options-container">
                           <ul>
                              <li>
                                 <input type="radio" name="contatarme via" value="Llamada Teléfonica">
                                 <span>Llamada Teléfonica</span>
                              </li>
                              <li>
                                 <input type="radio" name="contatarme via" value="Correo">
                                 <span>Correo</span>
                              </li>
                              <li>
                                 <input type="radio" name="contatarme via" value="Whatsapp">
                                 <span>Whatsapp</span>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <button >Enviar</button>
                  </form>
                  <div class="img2-container">
                     <img class="contacto-img" src="/imgs/concatanos_imgs/contacto.png" alt="contacto-img">
                  </div>
               </div>
               <div class="btns-container">
                  <div id="schedule-date" class="schedule-date box">
                     <a href="https://encanto.nececitas.com" target="_blank">
                        Agenda tu cita
                        <img class="agenda" src="/imgs/icono_agenda.png" alt="agenda-img">
                        <!-- <i class="fa-solid fa-calendar-days"></i> -->
                     </a>
                  </div>
                  <div id="sec-protocol" class="sec-protocol box">
                     <a id="pdf-link" class="manual" target='_blank' href="">
                        Descarga <br> Portafolio Educativo
                        <img class="manual pdf" src="/imgs/icono_pdf.png" alt="pdf-img">
                     </a>
                  </div>
               </div>
            </div>

            <div id="map" style="width: 90%; display: flex; justify-content: center; margin-top: 80px;">
               <iframe
               style="width: 80%; margin-bottom: 80px;" 
               src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3979.6721246556885!2d-76.19121129999999!3d4.0870012!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e39c56351d0dbe5%3A0xbae4dea9f93ec8f8!2sEnCanto%20Jard%C3%ADn%20Musical!5e0!3m2!1ses-419!2spa!4v1655573615132!5m2!1ses-419!2spa" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
               </iframe>
            </div>

            <footer id="footer">
               <div class="logo-footer-cont">
                  <img class="logo-footer" src="imgs/logo_blanco.png" alt="logo">
               </div>
               <div class="menu-footer">
                  <a href="/">Inicio</a>
                  <div class="separator"></div>
                  <a href="/nosotros.html">Nosotros</a>
                  <div class="separator"></div>
                  <a href="/programa.html">Programa</a>
                  <div class="separator"></div>
                  <a href="/contactanos.html">Contáctanos</a>
               </div>

               <div class="options">
                  <a target="_blank" href="https://www.zonapagos.com/">Pagos en linea</a>
                  <div class="separator"></div>
                  <a href="/plataforma_virtual.html">Plataforma Virtual</a>
                  <div class="separator"></div>
               </div>

               <div class="address">
                  <p>Cra 33 # 21-39 Tulua, Valle<br>(+57) 312 5397320</p>
               </div>

               <div class="social">
                  <div class="social-icons">
                     <i class="social-net instagram fa-brands fa-instagram"></i>
                     <i class="social-net facebook fa-brands fa-facebook"></i>
                     <i class="social-net whatsapp fa-brands fa-whatsapp"></i>
                  </div>
               </div>

               <div class="copyright">
                  <i class="fa-solid fa-copyright"></i>
                  <span>EnCanto Jardín Musical todos los derechos reservados</span>
               </div>
            </footer>

         </div>
      </div>
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
      <script src="https://unpkg.com/scrollreveal"></script> 
      <script src="script_menu.js"></script>

      <script>
         //Reading a PDF document 
         const divPdf = document.getElementsByClassName('sec-protocol')[0]
         const pdfLink = document.getElementById('pdf-link')

         fetch('/manual/PortafolioEncanto.pdf') .then(result => result.blob()) .then(pdf => {
         pdfLink.href= URL.createObjectURL(pdf)
         })

         divPdf.addEventListener('click', (e) => {
            const element = e.target
            if(element.classList.contains('manual')){
               pdfLink.click()
            }
         })

         //Send form by mail
         const form = document.getElementById('form-contact')
         const url = 'https://formsubmit.co/c47b2dec7af80257f08d34f8c28cf591'
         const modalWind = document.getElementById('modal-container')
         const closeIcon = document.getElementById('close-modal')

         closeIcon.addEventListener('click', () => {
            gsap.to(".modal-container", {opacity: 0, ease: "slow(0.7, 0.7, false)", duration:1})

            setTimeout(() => {
               modalWind.classList.add('hide-modal') //For Allow to run the above gsap animation
            },2000)
         })

         form.addEventListener('submit', (e) => {
            e.preventDefault()
            const formToSend = new FormData(form)
            const inputs = Array.from(form.querySelectorAll('.data-input')) 
            const valInput1 = inputs[0].value
            const valInput2 = inputs[1].value
            const valInput3 = inputs[2].value
            const valInput4 = inputs[3].value
            const valInput5 = inputs[4].value

            if (valInput1 === '' || valInput2 === '' || valInput3 === '' || valInput4 === '' || valInput5 === ''){
               alert('Debe completar todos los campos del formulario')
            }else{
               fetch(url, {method:'POST', body:formToSend})
               form.reset()
               modalWind.classList.remove('hide-modal')
               gsap.to(".modal-container", {opacity: 1, ease: "slow(0.7, 0.7, false)", duration:1})
               return false
            }
         })

         //Animating logo image
         gsap.fromTo('.logo-image', {scale:2.5}, {scale:1, duration:3})

         //Animating image using scrollreveal
         ScrollReveal().reveal('.contacto-img', { delay: 1300 })

         //Animating boxes whit rotation
         const map = document.getElementById('map')

         const observer = new IntersectionObserver(anim_box, {threshold: 0.01})

         observer.observe(map)

         function anim_box ( entries, observer ) {
            entries.forEach(( entry ) => {
               if (entry.isIntersecting) {
                     console.log(`This element was intercepted ${entry}`)
                     setTimeout(() => {
                        gsap.to('.box', {x:'0%', rotation:360, duration:0.7, stagger:1, opacity:1})
                     }, 500)
                  observer.unobserve(footer) //stop to observe the element strong in order to execute the callback only once
               }
            })
         }
      </script>
   </body>
</html>

